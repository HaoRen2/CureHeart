<shared-header></shared-header>

@if (paciente) {

<ion-content class="ion-padding">

  <ion-segment [(ngModel)]="selectedSegment" value="default">
    <ion-segment-button value="default">
      <ion-label>Mis citas</ion-label>
    </ion-segment-button>
    <ion-segment-button value="historial">
      <ion-label>Historial</ion-label>
    </ion-segment-button>
  </ion-segment>

  @if (selectedSegment === "default") {
    <ion-title>Total {{paciente.citas.length}}</ion-title>

    <ion-grid>
      @for (item of paciente.citas; track $index) {
        <ion-card>
          <ion-card-header>
            <ion-card-title>{{item.especialidad}}</ion-card-title>
          </ion-card-header>
      <ion-card-content>

            <ion-row>
              <ion-col><ion-text>{{item.date}}</ion-text></ion-col>
              <ion-col><ion-icon name="person"></ion-icon> <ion-text>{{item.nombreMedico}}</ion-text></ion-col>
            </ion-row>

            <ion-row>
              <ion-col><ion-text class="justify-content-center"><h2>{{item.time}}</h2></ion-text></ion-col>
              <ion-col><ion-icon name="location"></ion-icon> <ion-text>Hospital Salud</ion-text></ion-col>
            </ion-row>

        <ion-row class="text-center">
          <ion-col><ion-button (click)="presentAlert(item.id)" fill="clear">Anular</ion-button></ion-col>
        </ion-row>
      </ion-card-content>

    </ion-card>

      }

    </ion-grid>
  }@else if (selectedSegment === "historial") {
    <ion-title>Total {{citas.length}}</ion-title>

    <ion-grid>
      @for (item of citas; track $index) {
        <ion-card>
          <ion-card-header>
            <ion-card-title>{{item.especialidad}}</ion-card-title>
          </ion-card-header>
        <ion-card-content>

            <ion-row>
              <ion-col><ion-text>{{item.date}}</ion-text></ion-col>
              <ion-col><ion-icon name="person"></ion-icon> <ion-text>{{item.nombreMedico}}</ion-text></ion-col>
            </ion-row>

            <ion-row >
              <ion-col><ion-text class="justify-content-center"><h2>{{item.time}}</h2></ion-text></ion-col>
              <ion-col><ion-icon name="location"></ion-icon> <ion-text>Hospital Salud</ion-text></ion-col>
            </ion-row>

      </ion-card-content>

    </ion-card>

      }
    </ion-grid>
  }

</ion-content>
}



